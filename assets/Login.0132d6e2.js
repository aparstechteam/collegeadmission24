import{r,s as _,j as v,k as f,l as t,H as g,y as x,I as b,D as y}from"./index.f9f8290b.js";import{l as S}from"./api.84595ed4.js";const k={class:"container py-20 mx-auto"},w={class:"max-w-md mx-auto"},B=["onSubmit"],D=t("h2",{class:"text-lg font-medium text-center"},"Login With Credentials",-1),N={class:"form-control"},C={class:"text-center"},U={setup(I){const s=r(""),n=_(),o=r(!1),i=()=>{o.value=!0;let l=s.value.substr(s.value.length-10);S(l).then(e=>{e.user||n.push("/register?phone="+l);let a=e.user,[c,u,d,m,p]=a,h={phone:c,roll:u,name:d,email:m,school:p};localStorage.setItem("ca22",JSON.stringify(h)),n.push("/")}).catch(e=>{console.log(e),o.value=!1})};return(l,e)=>(v(),f("div",k,[t("div",w,[t("form",{class:"space-y-2",onSubmit:g(i,["prevent"])},[D,t("div",N,[x(t("input",{type:"tel",class:"input input-bordered",placeholder:"Your Phone Number",id:"phone","onUpdate:modelValue":e[0]||(e[0]=a=>s.value=a)},null,512),[[b,s.value]])]),t("div",C,[t("button",{class:y(["btn btn-success",{loading:o.value}])},"Login",2)])],40,B)])]))}};export{U as default};
