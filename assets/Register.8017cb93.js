import{q as R,r as s,s as D,j as U,k as V,l as e,H as k,y as l,I as n,z as B,D as N,J as j}from"./index.f9f8290b.js";import{r as w,l as C}from"./api.84595ed4.js";const M={class:"container py-20 mx-auto"},q=e("h1",{class:"text-center text-3xl font-bold"},"Register",-1),z={class:"max-w-md mx-auto"},E=["onSubmit"],I={class:"form-control"},J=e("label",{for:"name"},"Name",-1),K={class:"form-control"},H=e("label",{for:"email"},"Email",-1),O={class:"form-control"},P=e("label",{for:"phone"},"Phone",-1),T={class:"form-control"},A=e("label",{for:"school"},"School",-1),F={class:"form-control"},G=e("label",{for:"division"},"Division",-1),L=j('<option value="Dhaka">Dhaka</option><option value="Chittagong">Chittagong</option><option value="Khulna">Khulna</option><option value="Barisal">Barisal</option><option value="Rajshahi">Rajshahi</option><option value="Rangpur">Rangpur</option><option value="Sylhet">Sylhet</option>',7),Q=[L],W={class:"mt-5 text-center"},$={setup(X){const h=R(),i=s(""),r=s(""),a=s(h.query.phone),u=s(""),d=s("Dhaka"),v=D(),c=s(!1),m=()=>{c.value=!0;let p=a.value.substr(a.value.length-10),t={name:i.value,email:r.value,phone:p,school:u.value,division:d.value};w(t).then(()=>{C(p).then(o=>{let _=o.user,[f,g,b,x,y]=_,S={phone:f,roll:g,name:b,email:x,school:y};localStorage.setItem("ca22",JSON.stringify(S)),v.push("/")}).catch(o=>{console.log(o)})}).catch(o=>{console.log(o),c.value=!1})};return(p,t)=>(U(),V("div",M,[q,e("div",z,[e("form",{onSubmit:k(m,["prevent"])},[e("div",I,[J,l(e("input",{class:"input input-bordered",type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=o=>i.value=o)},null,512),[[n,i.value]])]),e("div",K,[H,l(e("input",{class:"input input-bordered",type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=o=>r.value=o)},null,512),[[n,r.value]])]),e("div",O,[P,l(e("input",{class:"input input-bordered",type:"text",id:"phone","onUpdate:modelValue":t[2]||(t[2]=o=>a.value=o)},null,512),[[n,a.value]])]),e("div",T,[A,l(e("input",{class:"input input-bordered",type:"text",id:"school","onUpdate:modelValue":t[3]||(t[3]=o=>u.value=o)},null,512),[[n,u.value]])]),e("div",F,[G,l(e("select",{id:"division","onUpdate:modelValue":t[4]||(t[4]=o=>d.value=o),class:"select select-bordered"},Q,512),[[B,d.value]])]),e("div",W,[e("button",{class:N(["btn",{loading:c.value}])}," Register ",2)])],40,E)])]))}};export{$ as default};
